var data = {
  "data": [
    {
      "name": "a a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.83,
        0.37,
        0.44,
        0.36,
        0.23,
        0.95,
        0.81,
        0.46,
        0.73,
        0.11
      ]
    },
    {
      "name": "b a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.35,
        0.89,
        0.54,
        0.55,
        0.77,
        0.42,
        0.66,
        0.8,
        0.81,
        0.84
      ]
    },
    {
      "name": "c a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.36,
        0.83,
        0.04,
        0.03,
        0.86,
        0.72,
        0.6,
        0.94,
        0.33,
        0.95
      ]
    },
    {
      "name": "d a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.01,
        0.7,
        0.12,
        0.11,
        0.44,
        0.12,
        0.51,
        0.96,
        0.5,
        0.36
      ]
    },
    {
      "name": "e a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.02,
        0.08,
        0.18,
        0.57,
        0.67,
        0.15,
        0.96,
        0.29,
        0.97,
        0.77
      ]
    },
    {
      "name": "f a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.9,
        0.76,
        0.1,
        0.11,
        0.19,
        0.79,
        0.86,
        0.57,
        0.46,
        0.49
      ]
    },
    {
      "name": "g a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.08,
        0.98,
        0.88,
        0.49,
        0.63,
        0.73,
        0.41,
        0.7,
        0.52,
        0.43
      ]
    },
    {
      "name": "h a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.93,
        0.91,
        0.87,
        0.26,
        0.01,
        0.62,
        0.82,
        0.71,
        0.8,
        0.1
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.65,
        0.51,
        0.46,
        0.18,
        0.21,
        0.07,
        0.23,
        0.64,
        0.07,
        0.41
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.49,
        0.22,
        0.59,
        0.15,
        0.02,
        0.79,
        0.54,
        0.86,
        0.63,
        0.41
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.13,
        0.45,
        0.05,
        0.7,
        0.44,
        0.9,
        0.4,
        0.2,
        0.81,
        0.94
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.18,
        0.94,
        0.15,
        0.17,
        1,
        0.78,
        0.37,
        0.41,
        0.91,
        0.08
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.81,
        0.86,
        0.37,
        0.72,
        0.55,
        0.81,
        0.46,
        0.39,
        0.41,
        0.14
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.57,
        0.17,
        0.99,
        0.9,
        0.49,
        0.53,
        0.28,
        0.73,
        0.1,
        0.85
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.75,
        0.08,
        0.86,
        1.01,
        0.7,
        0.66,
        0.56,
        0.8,
        0.02,
        0.61
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.54,
        0.78,
        1,
        0,
        0.36,
        0.2,
        0.88,
        0.79,
        1,
        0.27
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.84,
        0.38,
        0.25,
        0.13,
        0.67,
        0.64,
        0.07,
        0.72,
        0.79,
        0.67
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.53,
        0.37,
        0.31,
        0.39,
        0.07,
        0.53,
        0.24,
        0.66,
        0.5,
        0.01
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.02,
        0.47,
        0.72,
        0.97,
        0.04,
        0.91,
        0.71,
        0.37,
        0.07,
        0.34
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.8,
        0.69,
        0.08,
        0.21,
        0.72,
        0.77,
        0.91,
        0.41,
        0.94,
        0.16
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.32,
        0.19,
        0.32,
        0.5,
        0.07,
        0.43,
        0.28,
        0.28,
        0.39,
        0.68
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.27,
        0.38,
        0.84,
        0.09,
        0.6,
        0.66,
        0.57,
        0.76,
        0.25,
        0.8
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.24,
        0.19,
        0.73,
        0.51,
        0.6,
        0.9,
        0.91,
        0.85,
        0.81,
        0.37
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.39,
        0.47,
        0.31,
        0.17,
        0.74,
        0.1,
        0.9,
        0.92,
        0.87,
        0.91
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.2,
        0.91,
        0.27,
        0.56,
        0.44,
        0.67,
        0.45,
        0.2,
        0.28,
        0.08
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.09,
        0.7,
        0.06,
        0.65,
        0.8,
        0.53,
        0.65,
        0.27,
        0.63,
        0.72
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.49,
        0.48,
        0.95,
        0.92,
        0.6,
        0.61,
        0.45,
        0.56,
        0.51,
        0.16
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.39,
        0.82,
        0.09,
        0.43,
        0.4,
        0.43,
        0.88,
        0.86,
        0.57,
        0.46
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.33,
        0.54,
        0.89,
        0.56,
        0.21,
        0.18,
        0.18,
        0.2,
        0.04,
        0.46
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.17,
        0.86,
        0.53,
        0.07,
        0.76,
        0.54,
        0.87,
        0.3,
        0.08,
        0.49
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.12,
        1,
        0.45,
        0.65,
        0.76,
        0.57,
        0.82,
        0.79,
        0.6,
        0.06
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.25,
        0.7,
        0.66,
        0.59,
        0.7,
        0.01,
        0.54,
        0.88,
        0.8,
        0.07
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.2,
        0.8,
        0.26,
        0.95,
        0.7,
        0.52,
        0.65,
        0.98,
        0.57,
        0.39
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.76,
        0.2,
        0.75,
        0.39,
        0.62,
        0.92,
        0.39,
        0.22,
        0.31,
        0.16
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.38,
        0.66,
        0.71,
        0.5,
        0.71,
        0.03,
        0.72,
        0.04,
        0.59,
        0.67
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.05,
        0.35,
        0.9,
        0.15,
        0.34,
        0.78,
        0.86,
        0.77,
        0.2,
        0.27
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.93,
        0.31,
        0.72,
        0.98,
        0.56,
        0.45,
        0.98,
        0.17,
        0.04,
        0.5
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.4,
        0.64,
        0.09,
        0.09,
        0.34,
        0.24,
        0.29,
        0.52,
        1,
        0.55
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.19,
        0.14,
        0.93,
        0.21,
        0.99,
        0.24,
        0.05,
        0.56,
        0.5,
        0.95
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.21,
        0.65,
        0.79,
        0.73,
        0.29,
        0.2,
        0.06,
        0.71,
        0.5,
        0.7
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.63,
        0.46,
        0.13,
        0.15,
        0.25,
        0.55,
        0.24,
        0.97,
        0.64,
        0.78
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.06,
        0.33,
        0.03,
        0.61,
        0.58,
        0.6,
        0.62,
        0.95,
        0.46,
        0.99
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.2,
        0.08,
        0.98,
        0.55,
        0.29,
        0.7,
        0.99,
        0.7,
        0.18,
        0.89
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.21,
        0.29,
        0.72,
        0.99,
        0.09,
        0.48,
        0.74,
        0.73,
        0.63,
        0.88
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.55,
        0.05,
        0.44,
        0.07,
        0.51,
        0.85,
        0.5,
        0.7,
        0.85,
        0.81
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.56,
        0.73,
        0.18,
        0.63,
        0.4,
        0.03,
        0.59,
        0.67,
        0.87,
        0.66
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.18,
        0.68,
        0.54,
        0.57,
        0.53,
        0.24,
        0.28,
        0.03,
        0.56,
        0.45
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.18,
        0.66,
        0.03,
        0.02,
        0.06,
        0.78,
        0.03,
        0.44,
        0.68,
        0.34
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.82,
        0.15,
        0.35,
        0.35,
        0.9,
        0.4,
        0.71,
        0.04,
        0.81,
        0.51
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.38,
        0.8,
        0.15,
        0.33,
        0.89,
        0.94,
        0.35,
        0.04,
        0.51,
        0.03
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.4,
        0.98,
        0.92,
        0.55,
        0.46,
        0.56,
        0.74,
        0.98,
        0.94,
        0.58
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.02,
        0.74,
        1.01,
        0.22,
        0.57,
        0.4,
        0.45,
        0.58,
        0.7,
        0.88
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.53,
        0.17,
        0.23,
        0.66,
        0.11,
        0.49,
        0.02,
        0.98,
        0.11,
        0.27
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.27,
        0.65,
        0.76,
        0.13,
        0.9,
        0.67,
        1,
        0.95,
        0.8,
        0.54
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.14,
        0.55,
        0.81,
        0.9,
        0.31,
        0.45,
        0.14,
        1.01,
        0.44,
        0.48
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.35,
        0.84,
        0.77,
        0.13,
        0.32,
        0.51,
        1.01,
        0.29,
        0.17,
        0.21
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.89,
        0.8,
        0.82,
        0.34,
        0.82,
        0.11,
        0.81,
        0.62,
        1.01,
        0.11
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.53,
        0.37,
        0.47,
        0.05,
        0.36,
        0.43,
        0.35,
        0.13,
        0.62,
        0.49
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.58,
        0.76,
        0.14,
        0.07,
        0.23,
        0.47,
        0.68,
        0.7,
        0.27,
        0.82
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.24,
        0.43,
        0.24,
        0.93,
        0.07,
        0.27,
        0.18,
        0.02,
        0.72,
        0.57
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.22,
        0.27,
        0.43,
        0.32,
        0.45,
        0.96,
        0.24,
        0.38,
        0.71,
        0.63
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.77,
        0.72,
        0.02,
        0.35,
        0.15,
        0.54,
        0.03,
        1.01,
        0.59,
        0.68
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.49,
        0.62,
        0.47,
        0.63,
        0.75,
        0.13,
        0.41,
        0.85,
        0.17,
        0.78
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.1,
        0.07,
        0.42,
        0.84,
        1.01,
        0.48,
        0.24,
        0.37,
        0.61,
        0.59
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.07,
        0.99,
        0.11,
        0.43,
        0.81,
        0.43,
        0.05,
        0.11,
        0.81,
        0.58
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.47,
        0.16,
        0.09,
        0.08,
        0.45,
        0.68,
        0.68,
        0.11,
        0.34,
        0.92
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.33,
        0.96,
        0.89,
        0.72,
        0.49,
        0.46,
        0.73,
        0.83,
        0.14,
        0.7
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.47,
        0.72,
        0.97,
        0.61,
        0.43,
        0.21,
        0.36,
        0.13,
        0.57,
        0.33
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.82,
        0.52,
        0.53,
        0.89,
        0.37,
        0.87,
        0.54,
        0.1,
        1,
        0.83
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.77,
        0,
        0,
        0.86,
        0.92,
        0.53,
        0.62,
        0.59,
        0.09,
        0.72
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.08,
        0.74,
        0.64,
        0,
        0.63,
        0.99,
        0.54,
        0.6,
        0.3,
        0.16
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.41,
        0.51,
        0.75,
        0.86,
        0.54,
        0.56,
        0.01,
        0.6,
        0.85,
        0.2
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.11,
        0.79,
        0.42,
        0.33,
        0.18,
        0.6,
        0.7,
        0.59,
        0.35,
        0.2
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.29,
        0.26,
        0.28,
        0.5,
        0.3,
        0.74,
        0.29,
        0.07,
        0.8,
        0.78
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.55,
        0.89,
        0.72,
        0.06,
        0.94,
        0.44,
        0.6,
        0.68,
        0.18,
        0.35
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.81,
        0.94,
        0.17,
        0.8,
        0.48,
        0.01,
        0.14,
        0.34,
        0.83,
        0.96
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.18,
        0.62,
        0.84,
        0.41,
        0.64,
        0.28,
        0.62,
        0.8,
        0.41,
        0.72
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.05,
        0.65,
        0.42,
        0.02,
        0.91,
        0.84,
        0.78,
        0.97,
        0.6,
        0.08
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.95,
        0.09,
        0.69,
        0.63,
        0.71,
        0.12,
        0.24,
        0.58,
        0.89,
        0.71
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.74,
        0.75,
        0.13,
        0.23,
        0.08,
        0.84,
        0.83,
        0.12,
        0.8,
        0.57
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.68,
        0.11,
        0.37,
        0.34,
        0.53,
        0.46,
        0.01,
        0.36,
        0.28,
        0.6
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.68,
        0.29,
        0.01,
        0.68,
        0.1,
        0.06,
        0.51,
        0.44,
        0.06,
        0.31
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.67,
        0.94,
        0.53,
        0.55,
        0.24,
        0.28,
        0.11,
        0.53,
        1.01,
        0.79
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.37,
        0.09,
        0.36,
        0.5,
        0.37,
        0.58,
        0.28,
        0.01,
        0.52,
        0.69
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 4,
      "c": -1,
      "answers": [],
      "data": [
        1,
        0.44,
        0.68,
        0.33,
        0,
        0,
        0.23,
        0.53,
        0,
        0.43
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.6,
        0.31,
        0,
        0.96,
        0.97,
        0.42,
        0.11,
        0.18,
        0.09,
        0.96
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.5,
        0.95,
        0.15,
        0.46,
        0.54,
        0.11,
        0.32,
        0.6,
        0.32,
        0.74
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.85,
        0.33,
        0.94,
        0.67,
        0.3,
        0.31,
        0.47,
        0.33,
        0.25,
        0.66
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.57,
        0.08,
        0.82,
        0.23,
        0.56,
        0.61,
        0.63,
        0.69,
        0.16,
        0.63
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.96,
        0.5,
        0.75,
        0.37,
        0.05,
        0.96,
        0.09,
        0.52,
        0.18,
        0.75
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.38,
        0.61,
        0.96,
        0.92,
        0.35,
        0.27,
        0.91,
        0.65,
        0.22,
        0.91
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.96,
        0.05,
        0.07,
        0.68,
        0.41,
        0.75,
        0.96,
        0.89,
        0.7,
        0.15
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.28,
        0.7,
        0.88,
        0.17,
        0.1,
        0.84,
        0.57,
        0.68,
        1,
        0.42
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.1,
        0.18,
        0.22,
        1.01,
        0.09,
        0.79,
        0.37,
        0.88,
        0.24,
        0.38
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        1,
        1.01,
        0.44,
        0.96,
        0.69,
        0.43,
        0.35,
        0.54,
        0.42,
        0.03
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.7,
        0.09,
        0.47,
        0.86,
        0.1,
        0.74,
        0.4,
        0.73,
        0.4,
        0.26
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.19,
        0.65,
        0.77,
        0.19,
        0.1,
        0.48,
        0.39,
        0.58,
        0.99,
        0.83
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.09,
        0.7,
        0.57,
        0.09,
        0.2,
        0.78,
        1.01,
        0.5,
        0.95,
        0.05
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.84,
        0.08,
        0.7,
        0.47,
        0.2,
        0.11,
        0,
        0.32,
        0.19,
        0.97
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.71,
        0.37,
        0.93,
        0.04,
        1.01,
        0.9,
        0.8,
        0.14,
        0.54,
        1
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.73,
        0.53,
        0,
        0.91,
        0.14,
        0.59,
        0.81,
        0.38,
        0.68,
        0.92
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.74,
        0.67,
        0.84,
        0.28,
        0.75,
        0.28,
        0.42,
        0.61,
        0.08,
        0.55
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 1,
      "c": -1,
      "answers": [],
      "data": [
        0.41,
        0.57,
        0.8,
        0.21,
        0.75,
        0.47,
        0.51,
        0.94,
        0.54,
        0.55
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.12,
        0.29,
        0.7,
        0.05,
        0.21,
        0.16,
        0.39,
        0.15,
        0.54,
        0.27
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.54,
        0.25,
        0.66,
        0.71,
        0.97,
        0.99,
        0.28,
        0.54,
        1,
        0.5
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.2,
        0.15,
        0.69,
        0.99,
        0.45,
        0.19,
        0.32,
        0.54,
        0.65,
        0.86
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.09,
        0.41,
        0.94,
        0.56,
        0.85,
        0.88,
        0.12,
        0.89,
        0.34,
        0.73
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 3,
      "c": -1,
      "answers": [],
      "data": [
        0.27,
        0.04,
        0.94,
        0.72,
        0.99,
        0.17,
        0.15,
        0.9,
        0.65,
        0.68
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 2,
      "c": -1,
      "answers": [],
      "data": [
        0.04,
        0.43,
        0.37,
        0.78,
        0.52,
        0.18,
        0.56,
        0.29,
        0.12,
        0.78
      ]
    },
    {
      "name": "i a",
      "contact": "a",
      "g": 0,
      "c": -1,
      "answers": [],
      "data": [
        0.53,
        0.24,
        0.25,
        0.08,
        0.34,
        0.69,
        0.4,
        0.52,
        0.68,
        0.34
      ]
    }
  ]
}

function getRandomColor(){
    r = Math.floor(Math.random() * 255);
    g = Math.floor(Math.random() * 255);
    b = Math.floor(Math.random() * 255);
    r_str = r.toString(16);
    g_str = g.toString(16);
    b_str = b.toString(16);
    rgb = "#" + (r_str.length==1 ? "0"+r_str : r_str) + (g_str.length==1 ? "0"+g_str : g_str) + (b_str.length==1 ? "0"+b_str : b_str);
    return rgb;
};

function setupCanvas(canvas) {
    var dpr = window.devicePixelRatio || 1;
    var rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    var ctx = canvas.getContext('2d');
    ctx.scale(dpr, dpr);
    return ctx;
}

//Takes a dataset and columns that are not valid and returns the top three sdev column keys
function topThreeSdev(data){
    variances = [];
    for(index = 0; index < data["data"][0]["data"].length; index++){
        variances.push([index,sdev(data, index)]);
    }
    //Sorting variances largest to smallest
    variances.sort(function(a,b){return (a[1] < b[1]) ? 1 : -1;});
    //Returning the key for those variances
    return [variances[0][0], variances[1][0], variances[2][0]];
}

//Given a dataset and a column name this will calculate the sdev for the column
function sdev(data, index){
    //Calculating the mean
    total = 0;
    for(i = 0; i < data["data"].length; i++)
        total += data["data"][i]["data"][index];
    mean = total/data["data"].length;
    //Calculating the sum of variances
    total = 0;
    for(i = 0; i < data["data"].length; i++)
        total += Math.pow(data["data"][i]["data"][index] - mean, 2);
    //Calculating sdev from variance
    return Math.sqrt(total/data["data"].length);
}

//Returns the minimum and maximum values for a given column
function minmax(data, key){
    min = Number.MAX_VALUE;
    max = Number.MIN_VALUE;
    for(i = 0; i < data["data"].length; i++){
        if(data["data"][i]["data"][key] < min)
            min = data["data"][i]["data"][key];
        if(data["data"][i]["data"][key] > max)
            max = data["data"][i]["data"][key];
    }
    return[min, max];
}

//Draws the graph aka does all the graphics
//Width and height should be the same
function drawGraph(canvas, ctx, d, offsetx, offsety, dataSet, degx, degy, xaxis, yaxis, zaxis, group, color){
    
    //Clear any previous content in canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // minx = 0;
    // maxx = 1;
    // miny = 0;
    // maxy = 1;
    // minz = 0;
    // maxz = 1;

    temp = minmax(data, xaxis);
    minx = temp[0] - .1;
    maxx = temp[1] + .1;
    temp = minmax(data, yaxis);
    miny = temp[0] - .1;
    maxy = temp[1] + 0.1;
    temp = minmax(data, zaxis);
    minz = temp[0] - 0.1;
    maxz = temp[1] + 0.1;


    groupCount = 0;
    for(i = 0; i < data["data"].length; i++){
        if(data["data"][i]["g"] > groupCount)
            groupCount = data["data"][i]["g"];
    }
    //Retrieve bufferzones from the data
    colors = new Array(groupCount + 1);
    for(i = 0; i < colors.length; i++){
        colors[i] = getRandomColor();
    }
    //Getting increments which represent the size of one unit relative to the size of the canvas
    xinc = Math.floor(d / (maxx - minx));
    yinc = Math.floor(d / (maxy - miny));
    zinc = Math.floor(Math.sqrt(Math.pow((d * Math.cos(degx)),2) + Math.pow(d * Math.sin(degy),2)) / (maxz - minz + 1));
    radius = 4;

    //Setting the background colors of sections ----------->

    //this is the bottom background color
    ctx.fillStyle = "#ded";
    ctx.beginPath();
    //bottom left
    ctx.moveTo(offsetx, offsety + d);
    //bottom back left
    ctx.lineTo(offsetx + d  - d * Math.cos(degx), offsety + d  - d * Math.sin(degy));
    //bottom back right
    ctx.lineTo(offsetx + 2 * d  - d * Math.cos(degx), offsety + d  - d * Math.sin(degy));
    //bottom front right
    ctx.lineTo(offsetx + d, offsety + d);
    ctx.fill();
    ctx.closePath();

    //this is the left background color
    ctx.fillStyle = "#ded";
    ctx.beginPath();
    //bottom left
    ctx.moveTo(offsetx, offsety + d);
    //bottom back left
    ctx.lineTo(offsetx + d  - d * Math.cos(degx), offsety + d  - d * Math.sin(degy));
    //top back left
    ctx.lineTo(offsetx + d  - d * Math.cos(degx), offsety  - d * Math.sin(degy));
    //top front left
    ctx.lineTo(offsetx, offsety);
    ctx.fill();
    ctx.closePath();

    //backface background-color
    ctx.fillStyle = "#eee";
    ctx.beginPath();
    //bottom back left
    ctx.moveTo(offsetx + d  - d * Math.cos(degx), offsety + d  - d * Math.sin(degy));
    //top back left
    ctx.lineTo(offsetx + d  - d * Math.cos(degx), offsety  - d * Math.sin(degy));
    //top back right
    ctx.lineTo(offsetx + 2 * d  - d * Math.cos(degx), offsety  - d * Math.sin(degy));
    //bottom back right
    ctx.lineTo(offsetx + 2 * d  - d * Math.cos(degx), offsety + d  - d * Math.sin(degy));    
    ctx.fill();
    ctx.closePath();

    //Generating the orthagonal lines for reading the graph --------------------------------->

    lineincr = d / 6;
    for(i = 0; i < 7; i++){
        if(i % 2 == 0){
            ctx.strokeStyle = "#000";
        }
        else{
            ctx.strokeStyle = "#ccc";
        }
        ctx.beginPath();
        ctx.moveTo(offsetx + i * lineincr - (i * lineincr * Math.cos(degx)), offsety + d -  i * lineincr * Math.sin(degy));
        ctx.lineTo((offsetx + i * lineincr - (i * lineincr * Math.cos(degx))), offsety -  i * lineincr * Math.sin(degy));
        ctx.stroke();
        ctx.closePath();
        ctx.beginPath();
        ctx.moveTo(offsetx + i * lineincr - (i * lineincr * Math.cos(degx)), offsety + d -  i * lineincr * Math.sin(degy));
        ctx.lineTo(offsetx + i * lineincr - (i * lineincr * Math.cos(degx)) + d, (offsety + d - i * lineincr * Math.sin(degy)) + (200 * Math.sin(degy - degy)));
        ctx.stroke();
        ctx.closePath();
    }

    //Back Connectors --------------------------------------------------------->

    //bottom left connector
    ctx.strokeStyle = "#000";
    ctx.beginPath();
    ctx.moveTo(offsetx, offsety + d);
    ctx.lineTo(offsetx + d  - d * Math.cos(degx), offsety + d  - d * Math.sin(degy));
    ctx.stroke();   
    ctx.closePath(); 

    //bottom right connector
    ctx.strokeStyle = "#000";
    ctx.beginPath();
    ctx.moveTo(offsetx + d, offsety + d);
    ctx.lineTo(offsetx + 2 * d  - d * Math.cos(degx), offsety + d  - d * Math.sin(degy));
    ctx.stroke();   
    ctx.closePath(); 

    //left top connector
    ctx.strokeStyle = "#000";
    ctx.beginPath();
    ctx.moveTo(offsetx, offsety);
    ctx.lineTo(offsetx + d  - d * Math.cos(degx), offsety  - d * Math.sin(degy));
    ctx.stroke();   
    ctx.closePath(); 

    //right back pillar
    ctx.strokeStyle = "#000";
    ctx.beginPath();
    ctx.moveTo(offsetx + 2 * d - d * Math.cos(degx), offsety - d * Math.sin(degy));
    ctx.lineTo(offsetx + 2 * d  - d * Math.cos(degx), offsety + d  - d * Math.sin(degy));
    ctx.stroke();   
    ctx.closePath(); 

    //back top cross
    ctx.strokeStyle = "#000";
    ctx.beginPath();
    ctx.moveTo(offsetx + 2 * d - d * Math.cos(degx), offsety - d * Math.sin(degy));
    ctx.lineTo(offsetx + d - d * Math.cos(degx), offsety - d * Math.sin(degy));
    ctx.stroke();   
    ctx.closePath(); 

    //Placing data on the board -------------------------------------------------------------

    // console.log("degx: " + (degx/2)/Math.PI * 180 + " degy: " + degy/Math.PI * 180);
    for(i = 0; i < dataSet["data"].length; i++){
        item = dataSet["data"][i];
        x = d - ((item["data"][xaxis] - minx) * xinc) + (((item["data"][zaxis] - minz) * Math.sin(degx/2)) * zinc);
        y = ((item["data"][yaxis] - miny) * yinc) + ((item["data"][zaxis] - minz) * Math.sin(degy) * zinc);
        c = item["g"];
        if(item["g"] == -1){
            item["c"] = "#000000";
        }
        else {
            item["c"] = colors[item["g"]];
        }
        ctx.fillStyle = item["c"];
        ctx.beginPath();
        if(item["data"][zaxis] == 0){
            ctx.arc(offsetx + x, offsety + d - y, radius, 0, 2 * Math.PI);
        }
        else {
            ctx.arc(offsetx + x, offsety + d - y, Math.ceil(radius * item["data"][zaxis]) + radius, 0, 2 * Math.PI);
        }
        ctx.fill();   
        ctx.closePath(); 
    }

    //front top cross
    ctx.strokeStyle = "#333";
    ctx.beginPath();
    ctx.moveTo(offsetx, offsety);
    ctx.lineTo(offsetx + d, offsety);
    ctx.stroke();   
    ctx.closePath(); 

    //right front pillar
    ctx.strokeStyle = "#333";
    ctx.beginPath();
    ctx.moveTo(offsetx + d, offsety + d);
    ctx.lineTo(offsetx + d, offsety);
    ctx.stroke();   
    ctx.closePath(); 

    //right top connector
    ctx.strokeStyle = "#333";
    ctx.beginPath();
    ctx.moveTo(offsetx + d, offsety);
    ctx.lineTo(offsetx + 2 * d  - d * Math.cos(degx), offsety  - d * Math.sin(degy));
    ctx.stroke();   
    ctx.closePath(); 
}

//width must be greater than or equal to height of elemnt
//takes the dataset. Which contains a .set selector for array of data.
//Donotuse defines the columns not to be graphed, there needs to be a color and group column
$.fn.graph = function(dataSet, donotuse, color, group, degx, degy){

    //Retrieves the axes of the graph that have highest sdev
    axis = topThreeSdev(dataSet);

    //Sorting data by z axis
    // dataSet.set.sort(function(a, b){return (a[axis[0]] < b[axis[0]]) ? 1 : -1;});


    canvas = this[0];
    ctx = setupCanvas(canvas);

    //variable delcarations
    d = ctx.canvas.height;

    //Size of canvas
    offsetx = 0.1 * d;
    offsety = 0.3 * d;
    d *= 0.5;

    drawGraph(canvas, ctx, d, offsetx, offsety, dataSet, degx, degy, axis[2], axis[1], axis[0], "g", "c");


    /** All of the following is for the demo not final use */
    /**
    document.onmousemove = function(event){
        mousex = event.clientX;
        mousey = event.clientY;
    }
    var inter;
    var mdown = false;
    $("body").on("mousedown", function(event){
        if(event.target.id == "graph" ){
            mdown = true;
        }
        if(mdown){
            inter = setInterval(function(){
                x = d - mousex;
                y = d - mousey + offsety;
                if(y > d){
                    y = d;
                }
                if(x < -d){
                    x = -d ;
                }
                if(x > d){
                    x = d;
                }
                if(d < 0){
                    d = 0;
                }
                if(x <= d && x >= -d && y >= 0 &&  y <= d){
                    hyp = Math.sqrt(Math.pow(x,2) + Math.pow(y,2));
                    degy = Math.asin(y/d);
                    degx = Math.acos(x/d);
                    drawGraph(canvas, ctx, d, offsetx, offsety, dataSet, degx, degy, axis[2], axis[1], axis[0], "g", "c");
                }
            }, 100);
        }
    });
    $("body").on("mouseup", function(){
        clearInterval(inter);
    });
    **/
    /** This is the end of the demo code */
}

window.onload = function() {
    $("#graph").graph(data, ["c", "g", "name", "answers", "contact"], "c", "g", Math.PI/4, Math.PI/8);
}

